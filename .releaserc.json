{
  "branches": [
    { "name": "main", "channel": "latest" },
    { "name": "dev", "channel": "beta", "prerelease": "beta" },
    { "name": "ci-cd/test", "channel": "test", "prerelease": "test" },
    {
      "name": "sdk-test/*",
      "channel": "experimental",
      "prerelease": "experimental"
    }
  ],
  "plugins": [
    ["@semantic-release/commit-analyzer", { "preset": "conventionalcommits" }],
    [
      "@semantic-release/release-notes-generator",
      { "preset": "conventionalcommits" }
    ],
    [
      "@semantic-release/npm",
      {
        "npmPublish": true,
        "pkgRoot": "packages/react",
       "publishConfig": { 
        "access": "${GITHUB_REF_NAME === 'main' || GITHUB_REF_NAME === 'dev' ? 'public' : 'restricted'}" 
      } 
      }
    ],
    [
      "@semantic-release/npm",
      {
        "npmPublish": true,
        "pkgRoot": "packages/react-native",
        "publishConfig": { 
        "access": "${GITHUB_REF_NAME === 'main' || GITHUB_REF_NAME === 'dev' ? 'public' : 'restricted'}" 
      }
      }
    ],
    [
      "@semantic-release/git",
      {
        "assets": [
          "packages/react/package.json",
          "packages/react/CHANGELOG.md",
          "packages/react-native/package.json",
          "packages/react-native/CHANGELOG.md"
        ],
        "message": "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
      }
    ]
  ],
  "extends": "semantic-release-monorepo"
}
